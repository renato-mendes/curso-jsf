<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 
<ui:composition template="../home.xhtml">
	<ui:define name="conteudo">
		<f:facet name="header">#{msg['cadastrar.livro']}</f:facet>			
		<h:form prependId="false">
			<h:panelGrid columns="3">
				<h:outputLabel for="isbn" value="#{msg['livro.isbn']}:" />
				<h:inputText id="isbn" value="#{livroBean.livro.isbn}"/>
				<rich:message ajaxRendered="true" for="isbn" />
	
				<h:outputLabel for="titulo" value="#{msg.titulo}:" />
				<h:inputText id="titulo" value="#{livroBean.livro.titulo}"/>
				<rich:message ajaxRendered="true" for="titulo" />
	
				<h:outputLabel for="autor" value="#{msg.autor}:" />
				<h:inputText id="autor" value="#{livroBean.livro.autor}"/>
				<rich:message ajaxRendered="true" for="autor" />
	
				<h:outputLabel for="editora" value="#{msg.editora}:" />
				<h:selectOneMenu id="editora" value="#{livroBean.livro.editora}">
					<f:selectItems value="#{livroBean.editoras}"
						var="ed" itemLabel="#{ed.nome}" itemValue="#{ed}"/>
				</h:selectOneMenu>
				<rich:message ajaxRendered="true" for="editora" errorStyle="color: red;"/>
	
				<h:outputLabel for="dataPub" value="#{msg['data.publicacao']}:" />
				<rich:calendar id="dataPub" value="#{livroBean.livro.dataPublicacao}"
					datePattern="#{msg['data.pattern']}" />
				<rich:message ajaxRendered="true" for="dataPub"/>
	
				<h:outputLabel for="preco" value="#{msg.preco}:" />
				<h:inputText id="preco" value="#{livroBean.livro.preco}" >
					<f:convertNumber locale="#{msg['locale.default']}"/>
				</h:inputText>
				<rich:message	 ajaxRendered="true" for="preco"/>
	
				<h:commandButton action="#{livroBean.cadastrar}" value="#{msg['cadastrar']}">
					<f:ajax execute="@form" render="@all" onevent="onStatusChange"/>
				</h:commandButton>
				<h:commandButton value="#{msg.cancelar}" action="listar" immediate="true"/>
			</h:panelGrid>
			
			<rich:notifyMessages stayTime="2000" nonblocking="true" showCloseButton="true"/>
		</h:form>
	</ui:define>
</ui:composition>
</html>