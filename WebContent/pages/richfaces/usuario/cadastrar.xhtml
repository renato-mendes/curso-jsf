<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:rich="http://richfaces.org/rich"
	  xmlns:a4j="http://richfaces.org/a4j"> 
	
<ui:composition template="/pages/richfaces/home.xhtml">
	<ui:define name="conteudo">
		<f:facet name="header">#{msg['cadastrar.usuario']}</f:facet>	
		
		<h:form id="formUsuario" prependId="false">
		<h:panelGrid columns="3">
			<h:outputLabel for="usuario" value="#{msg.usuario}:" />
			<h:column>
				<h:inputText id="usuario" value="#{usuarioBean.usuario.login}" />
				<a4j:commandButton value="#{msg['verificar.disponibilidade']}" execute="usuario" render="msgUsu"
					actionListener="#{usuarioBean.verificarDisponibilidadeLogin}" />
			</h:column>
			<rich:notifyMessage id="msgUsu" ajaxRendered="true" for="usuario" showCloseButton="true"/>

			<h:outputLabel for="senha" value="#{msg.senha}:" />
			<h:inputSecret id="senha" value="#{usuarioBean.usuario.senha}" />
			<rich:message ajaxRendered="true" for="senha" />

			<h:outputLabel for="confSenha" value="#{msg['conf.senha']}:" />
			<h:inputSecret id="confSenha" value="#{usuarioBean.confSenha}" />
			<rich:message ajaxRendered="true" for="confSenha" />

			<h:outputLabel for="nome" value="#{msg.nome}:" />
			<h:inputText id="nome" value="#{usuarioBean.usuario.nome}" />
			<rich:message ajaxRendered="true" for="nome" />

			<h:outputLabel for="email" value="#{msg.email}:" />
			<h:inputText id="email" value="#{usuarioBean.usuario.email}">
				<f:validateRegex for="email" 
					pattern="#{msg['email.regex']}" />
			</h:inputText>
			<rich:message ajaxRendered="true" for="email" />

			<h:outputLabel for="sexo" value="#{msg.sexo}:" />
			<h:selectOneRadio id="sexo" value="#{usuarioBean.usuario.sexo}">
				<f:selectItem itemLabel="#{msg['sexo.masculino']}"
					itemValue="#{msg['sexo.masculino']}" />
				<f:selectItem itemLabel="#{msg['sexo.feminino']}"
					itemValue="#{msg['sexo.feminino']}" />
			</h:selectOneRadio>
			<rich:message ajaxRendered="true" for="sexo" />

			<h:outputLabel for="dt_nasc" value="#{msg['data.nascimento']}:" />
			<rich:calendar id="dt_nasc" locale="#{msg['locale.default']}"
				datePattern="#{msg['data.pattern']}"
				value="#{usuarioBean.usuario.dataNascimento}" />
			<rich:message ajaxRendered="true" for="dt_nasc" showSummary="true" showDetail="false"/>

			<h:commandButton action="#{usuarioBean.cadastrar}" value="#{msg['cadastrar.usuario']}">
				<f:ajax execute="@form" render="@form" />
			</h:commandButton>
		</h:panelGrid>
		<rich:messages id="msgs" globalOnly="true"/>
	</h:form>
	</ui:define>
</ui:composition>
</html>